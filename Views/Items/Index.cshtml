@model IEnumerable<YourProjectName.Models.Item>
@using System.Text.Json

@{
    Layout = "_Layout";
}

<!-- Vue.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

<div id="app">
    <h2>Items List</h2>
    <p>
        <a class="btn btn-success" href="/Items/Create">Create New Item</a>
    </p>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="item in items" :key="item.Id">
                <td>{{ item.Id }}</td>
                <td>{{ item.Name }}</td>
                <td>
                    <a class="btn btn-info btn-sm" :href="'/Items/Details/' + item.Id">Details</a>
                    <a class="btn btn-warning btn-sm" :href="'/Items/Edit/' + item.Id">Edit</a>
                    <a class="btn btn-danger btn-sm" :href="'/Items/Delete/' + item.Id">Delete</a>
                    <a class="btn btn-secondary btn-sm" :href="'/SubItems?itemId=' + item.Id">SubItems</a>
                </td>
            </tr>
            <tr v-if="items.length === 0">
                <td colspan="4">No items found.</td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    new Vue({
        el: '#app',
        data: {
            items: @Html.Raw(JsonSerializer.Serialize(Model))
        }
    });
</script>
